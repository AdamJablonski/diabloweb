!function(n){var t={};function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"===typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)e.d(r,o,function(t){return n[t]}.bind(null,o));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="/diabloweb/",e(e.s=35)}([function(n,t,e){"use strict";var r=e(5),o=e(20),i=Object.prototype.toString;function a(n){return"[object Array]"===i.call(n)}function u(n){return null!==n&&"object"===typeof n}function c(n){return"[object Function]"===i.call(n)}function s(n,t){if(null!==n&&"undefined"!==typeof n)if("object"!==typeof n&&(n=[n]),a(n))for(var e=0,r=n.length;e<r;e++)t.call(null,n[e],e,n);else for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&t.call(null,n[o],o,n)}n.exports={isArray:a,isArrayBuffer:function(n){return"[object ArrayBuffer]"===i.call(n)},isBuffer:o,isFormData:function(n){return"undefined"!==typeof FormData&&n instanceof FormData},isArrayBufferView:function(n){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(n):n&&n.buffer&&n.buffer instanceof ArrayBuffer},isString:function(n){return"string"===typeof n},isNumber:function(n){return"number"===typeof n},isObject:u,isUndefined:function(n){return"undefined"===typeof n},isDate:function(n){return"[object Date]"===i.call(n)},isFile:function(n){return"[object File]"===i.call(n)},isBlob:function(n){return"[object Blob]"===i.call(n)},isFunction:c,isStream:function(n){return u(n)&&c(n.pipe)},isURLSearchParams:function(n){return"undefined"!==typeof URLSearchParams&&n instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!==typeof window&&"undefined"!==typeof document},forEach:s,merge:function n(){var t={};function e(e,r){"object"===typeof t[r]&&"object"===typeof e?t[r]=n(t[r],e):t[r]=e}for(var r=0,o=arguments.length;r<o;r++)s(arguments[r],e);return t},deepMerge:function n(){var t={};function e(e,r){"object"===typeof t[r]&&"object"===typeof e?t[r]=n(t[r],e):t[r]="object"===typeof e?n({},e):e}for(var r=0,o=arguments.length;r<o;r++)s(arguments[r],e);return t},extend:function(n,t,e){return s(t,function(t,o){n[o]=e&&"function"===typeof t?r(t,e):t}),n},trim:function(n){return n.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(n,t,e){n.exports=e(18)},function(n,t){var e,r,o=n.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(n){if(e===setTimeout)return setTimeout(n,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(n,0);try{return e(n,0)}catch(t){try{return e.call(null,n,0)}catch(t){return e.call(this,n,0)}}}!function(){try{e="function"===typeof setTimeout?setTimeout:i}catch(n){e=i}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(n){r=a}}();var c,s=[],f=!1,l=-1;function p(){f&&c&&(f=!1,c.length?s=c.concat(s):l=-1,s.length&&d())}function d(){if(!f){var n=u(p);f=!0;for(var t=s.length;t;){for(c=s,s=[];++l<t;)c&&c[l].run();l=-1,t=s.length}c=null,f=!1,function(n){if(r===clearTimeout)return clearTimeout(n);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(n);try{r(n)}catch(t){try{return r.call(null,n)}catch(t){return r.call(this,n)}}}(n)}}function h(n,t){this.fun=n,this.array=t}function _(){}o.nextTick=function(n){var t=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)t[e-1]=arguments[e];s.push(new h(n,t)),1!==s.length||f||u(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=_,o.addListener=_,o.once=_,o.off=_,o.removeListener=_,o.removeAllListeners=_,o.emit=_,o.prependListener=_,o.prependOnceListener=_,o.listeners=function(n){return[]},o.binding=function(n){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(n){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(n,t){},function(n,t,e){(function(n){function e(n,t){for(var e=0,r=n.length-1;r>=0;r--){var o=n[r];"."===o?n.splice(r,1):".."===o?(n.splice(r,1),e++):e&&(n.splice(r,1),e--)}if(t)for(;e--;e)n.unshift("..");return n}function r(n,t){if(n.filter)return n.filter(t);for(var e=[],r=0;r<n.length;r++)t(n[r],r,n)&&e.push(n[r]);return e}t.resolve=function(){for(var t="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:n.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,o="/"===a.charAt(0))}return(o?"/":"")+(t=e(r(t.split("/"),function(n){return!!n}),!o).join("/"))||"."},t.normalize=function(n){var i=t.isAbsolute(n),a="/"===o(n,-1);return(n=e(r(n.split("/"),function(n){return!!n}),!i).join("/"))||i||(n="."),n&&a&&(n+="/"),(i?"/":"")+n},t.isAbsolute=function(n){return"/"===n.charAt(0)},t.join=function(){var n=Array.prototype.slice.call(arguments,0);return t.normalize(r(n,function(n,t){if("string"!==typeof n)throw new TypeError("Arguments to path.join must be strings");return n}).join("/"))},t.relative=function(n,e){function r(n){for(var t=0;t<n.length&&""===n[t];t++);for(var e=n.length-1;e>=0&&""===n[e];e--);return t>e?[]:n.slice(t,e-t+1)}n=t.resolve(n).substr(1),e=t.resolve(e).substr(1);for(var o=r(n.split("/")),i=r(e.split("/")),a=Math.min(o.length,i.length),u=a,c=0;c<a;c++)if(o[c]!==i[c]){u=c;break}var s=[];for(c=u;c<o.length;c++)s.push("..");return(s=s.concat(i.slice(u))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(n){if("string"!==typeof n&&(n+=""),0===n.length)return".";for(var t=n.charCodeAt(0),e=47===t,r=-1,o=!0,i=n.length-1;i>=1;--i)if(47===(t=n.charCodeAt(i))){if(!o){r=i;break}}else o=!1;return-1===r?e?"/":".":e&&1===r?"/":n.slice(0,r)},t.basename=function(n,t){var e=function(n){"string"!==typeof n&&(n+="");var t,e=0,r=-1,o=!0;for(t=n.length-1;t>=0;--t)if(47===n.charCodeAt(t)){if(!o){e=t+1;break}}else-1===r&&(o=!1,r=t+1);return-1===r?"":n.slice(e,r)}(n);return t&&e.substr(-1*t.length)===t&&(e=e.substr(0,e.length-t.length)),e},t.extname=function(n){"string"!==typeof n&&(n+="");for(var t=-1,e=0,r=-1,o=!0,i=0,a=n.length-1;a>=0;--a){var u=n.charCodeAt(a);if(47!==u)-1===r&&(o=!1,r=a+1),46===u?-1===t?t=a:1!==i&&(i=1):-1!==t&&(i=-1);else if(!o){e=a+1;break}}return-1===t||-1===r||0===i||1===i&&t===r-1&&t===e+1?"":n.slice(t,r)};var o="b"==="ab".substr(-1)?function(n,t,e){return n.substr(t,e)}:function(n,t,e){return t<0&&(t=n.length+t),n.substr(t,e)}}).call(this,e(2))},function(n,t,e){"use strict";n.exports=function(n,t){return function(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];return n.apply(t,e)}}},function(n,t,e){"use strict";var r=e(0);function o(n){return encodeURIComponent(n).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}n.exports=function(n,t,e){if(!t)return n;var i;if(e)i=e(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,function(n,t){null!==n&&"undefined"!==typeof n&&(r.isArray(n)?t+="[]":n=[n],r.forEach(n,function(n){r.isDate(n)?n=n.toISOString():r.isObject(n)&&(n=JSON.stringify(n)),a.push(o(t)+"="+o(n))}))}),i=a.join("&")}if(i){var u=n.indexOf("#");-1!==u&&(n=n.slice(0,u)),n+=(-1===n.indexOf("?")?"?":"&")+i}return n}},function(n,t,e){"use strict";n.exports=function(n){return!(!n||!n.__CANCEL__)}},function(n,t,e){"use strict";(function(t){var r=e(0),o=e(25),i={"Content-Type":"application/x-www-form-urlencoded"};function a(n,t){!r.isUndefined(n)&&r.isUndefined(n["Content-Type"])&&(n["Content-Type"]=t)}var u={adapter:function(){var n;return"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t)?n=e(9):"undefined"!==typeof XMLHttpRequest&&(n=e(9)),n}(),transformRequest:[function(n,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(n)||r.isArrayBuffer(n)||r.isBuffer(n)||r.isStream(n)||r.isFile(n)||r.isBlob(n)?n:r.isArrayBufferView(n)?n.buffer:r.isURLSearchParams(n)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),n.toString()):r.isObject(n)?(a(t,"application/json;charset=utf-8"),JSON.stringify(n)):n}],transformResponse:[function(n){if("string"===typeof n)try{n=JSON.parse(n)}catch(t){}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(n){u.headers[n]={}}),r.forEach(["post","put","patch"],function(n){u.headers[n]=r.merge(i)}),n.exports=u}).call(this,e(2))},function(n,t,e){"use strict";var r=e(0),o=e(26),i=e(6),a=e(28),u=e(29),c=e(10);n.exports=function(n){return new Promise(function(t,s){var f=n.data,l=n.headers;r.isFormData(f)&&delete l["Content-Type"];var p=new XMLHttpRequest;if(n.auth){var d=n.auth.username||"",h=n.auth.password||"";l.Authorization="Basic "+btoa(d+":"+h)}if(p.open(n.method.toUpperCase(),i(n.url,n.params,n.paramsSerializer),!0),p.timeout=n.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,r={data:n.responseType&&"text"!==n.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:e,config:n,request:p};o(t,s,r),p=null}},p.onabort=function(){p&&(s(c("Request aborted",n,"ECONNABORTED",p)),p=null)},p.onerror=function(){s(c("Network Error",n,null,p)),p=null},p.ontimeout=function(){s(c("timeout of "+n.timeout+"ms exceeded",n,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var _=e(30),m=(n.withCredentials||u(n.url))&&n.xsrfCookieName?_.read(n.xsrfCookieName):void 0;m&&(l[n.xsrfHeaderName]=m)}if("setRequestHeader"in p&&r.forEach(l,function(n,t){"undefined"===typeof f&&"content-type"===t.toLowerCase()?delete l[t]:p.setRequestHeader(t,n)}),n.withCredentials&&(p.withCredentials=!0),n.responseType)try{p.responseType=n.responseType}catch(y){if("json"!==n.responseType)throw y}"function"===typeof n.onDownloadProgress&&p.addEventListener("progress",n.onDownloadProgress),"function"===typeof n.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",n.onUploadProgress),n.cancelToken&&n.cancelToken.promise.then(function(n){p&&(p.abort(),s(n),p=null)}),void 0===f&&(f=null),p.send(f)})}},function(n,t,e){"use strict";var r=e(27);n.exports=function(n,t,e,o,i){var a=new Error(n);return r(a,t,e,o,i)}},function(n,t,e){"use strict";var r=e(0);n.exports=function(n,t){t=t||{};var e={};return r.forEach(["url","method","params","data"],function(n){"undefined"!==typeof t[n]&&(e[n]=t[n])}),r.forEach(["headers","auth","proxy"],function(o){r.isObject(t[o])?e[o]=r.deepMerge(n[o],t[o]):"undefined"!==typeof t[o]?e[o]=t[o]:r.isObject(n[o])?e[o]=r.deepMerge(n[o]):"undefined"!==typeof n[o]&&(e[o]=n[o])}),r.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],function(r){"undefined"!==typeof t[r]?e[r]=t[r]:"undefined"!==typeof n[r]&&(e[r]=n[r])}),e}},function(n,t,e){"use strict";function r(n){this.message=n}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,n.exports=r},function(n,t,e){n.exports=e.p+"static/media/Diablo.0f64cc59.wasm"},function(n,t,e){(function(t,r){var o=function(){var n="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return function(o){var i,a="undefined"!==typeof(o=o||{})?o:{},u={};for(i in a)a.hasOwnProperty(i)&&(u[i]=a[i]);a.arguments=[],a.thisProgram="./this.program",a.quit=function(n,t){throw t},a.preRun=[],a.postRun=[];var c,s,f=!1,l=!1;f="object"===typeof window,l="function"===typeof importScripts,c="object"===typeof t&&"object"===typeof t.versions&&"string"===typeof t.versions.node&&!f&&!l,s=!f&&!c&&!l;var p,d,h,_,m="";c?(m=r+"/",p=function(n,t){var r;return h||(h=e(3)),_||(_=e(4)),n=_.normalize(n),r=h.readFileSync(n),t?r:r.toString()},d=function(n){var t=p(n,!0);return t.buffer||(t=new Uint8Array(t)),j(t.buffer),t},t.argv.length>1&&(a.thisProgram=t.argv[1].replace(/\\/g,"/")),a.arguments=t.argv.slice(2),t.on("uncaughtException",function(n){if(!(n instanceof On))throw n}),t.on("unhandledRejection",Pn),a.quit=function(n){t.exit(n)},a.inspect=function(){return"[Emscripten Module object]"}):s?("undefined"!=typeof read&&(p=function(n){return read(n)}),d=function(n){var t;return"function"===typeof readbuffer?new Uint8Array(readbuffer(n)):(j("object"===typeof(t=read(n,"binary"))),t)},"undefined"!=typeof scriptArgs?a.arguments=scriptArgs:"undefined"!=typeof arguments&&(a.arguments=arguments),"function"===typeof quit&&(a.quit=function(n){quit(n)})):(f||l)&&(l?m=self.location.href:document.currentScript&&(m=document.currentScript.src),n&&(m=n),m=0!==m.indexOf("blob:")?m.substr(0,m.lastIndexOf("/")+1):"",p=function(n){var t=new XMLHttpRequest;return t.open("GET",n,!1),t.send(null),t.responseText},l&&(d=function(n){var t=new XMLHttpRequest;return t.open("GET",n,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),function(n,t,e){var r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):e()},r.onerror=e,r.send(null)});var y=a.print||("undefined"!==typeof console?console.log.bind(console):"undefined"!==typeof print?print:null),g=a.printErr||("undefined"!==typeof printErr?printErr:"undefined"!==typeof console&&console.warn.bind(console)||y);for(i in u)u.hasOwnProperty(i)&&(a[i]=u[i]);u=void 0;var v,w={"f64-rem":function(n,t){return n%t},debugger:function(){}},b=(new Array(0),0),x=function(n){b=n};"object"!==typeof WebAssembly&&g("no native wasm support detected");var A=!1;function j(n,t){n||Pn("Assertion failed: "+t)}var S="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function E(n,t,e){for(var r=t+e,o=t;n[o]&&!(o>=r);)++o;if(o-t>16&&n.subarray&&S)return S.decode(n.subarray(t,o));for(var i="";t<o;){var a=n[t++];if(128&a){var u=63&n[t++];if(192!=(224&a)){var c=63&n[t++];if((a=224==(240&a)?(15&a)<<12|u<<6|c:(7&a)<<18|u<<12|c<<6|63&n[t++])<65536)i+=String.fromCharCode(a);else{var s=a-65536;i+=String.fromCharCode(55296|s>>10,56320|1023&s)}}else i+=String.fromCharCode((31&a)<<6|u)}else i+=String.fromCharCode(a)}return i}function C(n,t){return n?E(D,n,t):""}var R,T,D,O,L;"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");function P(n,t){return n%t>0&&(n+=t-n%t),n}function M(){a.HEAP8=T=new Int8Array(R),a.HEAP16=new Int16Array(R),a.HEAP32=O=new Int32Array(R),a.HEAPU8=D=new Uint8Array(R),a.HEAPU16=new Uint16Array(R),a.HEAPU32=new Uint32Array(R),a.HEAPF32=L=new Float32Array(R),a.HEAPF64=new Float64Array(R)}var k=a.TOTAL_MEMORY||134217728;function I(n){for(;n.length>0;){var t=n.shift();if("function"!=typeof t){var e=t.func;"number"===typeof e?void 0===t.arg?a.dynCall_v(e):a.dynCall_vi(e,t.arg):e(void 0===t.arg?null:t.arg)}else t()}}k<5242880&&g("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+k+"! (TOTAL_STACK=5242880)"),(v=a.wasmMemory?a.wasmMemory:new WebAssembly.Memory({initial:k/65536}))&&(R=v.buffer),k=R.byteLength,M(),O[466256]=7107936;var F=[],N=[],B=[],U=[];function q(n){U.unshift(n)}var H=0,z=null,W=null;a.preloadedImages={},a.preloadedAudios={};var G="data:application/octet-stream;base64,";function X(n){return String.prototype.startsWith?n.startsWith(G):0===n.indexOf(G)}var K,Y="Diablo.wasm";function J(){try{if(a.wasmBinary)return new Uint8Array(a.wasmBinary);if(d)return d(Y);throw"both async and sync fetching of the wasm failed"}catch(g){Pn(g)}}function V(n){var t={env:n,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:w};function e(n,t){var e=n.exports;a.asm=e,function(n){if(H--,a.monitorRunDependencies&&a.monitorRunDependencies(H),0==H&&(null!==z&&(clearInterval(z),z=null),W)){var t=W;W=null,t()}}()}function r(n){e(n.instance)}function o(n){return(a.wasmBinary||!f&&!l||"function"!==typeof fetch?new Promise(function(n,t){n(J())}):fetch(Y,{credentials:"same-origin"}).then(function(n){if(!n.ok)throw"failed to load wasm binary file at '"+Y+"'";return n.arrayBuffer()}).catch(function(){return J()})).then(function(n){return WebAssembly.instantiate(n,t)}).then(n,function(n){g("failed to asynchronously prepare wasm: "+n),Pn(n)})}if(H++,a.monitorRunDependencies&&a.monitorRunDependencies(H),a.instantiateWasm)try{return a.instantiateWasm(t,e)}catch(i){return g("Module.instantiateWasm callback failed with error: "+i),!1}return function(){if(a.wasmBinary||"function"!==typeof WebAssembly.instantiateStreaming||X(Y)||"function"!==typeof fetch)return o(r);fetch(Y,{credentials:"same-origin"}).then(function(n){return WebAssembly.instantiateStreaming(n,t).then(r,function(n){g("wasm streaming compile failed: "+n),g("falling back to ArrayBuffer instantiation"),o(r)})})}(),{}}X(Y)||(K=Y,Y=a.locateFile?a.locateFile(K,m):m+K),a.asm=function(n,t,e){return t.memory=v,t.table=new WebAssembly.Table({initial:778,maximum:778,element:"anyfunc"}),t.__memory_base=1024,t.__table_base=0,V(t)};var Z=[function(n){self.DApi.current_save_id(n)}];N.push({func:function(){sn()}});var $={},Q=[];function nn(n){if(!n||$[n])return n;for(var t in $)for(var e=+t,r=$[e].adjusted,o=r.length,i=0;i<o;i++)if(r[i]===n)return e;return n}var tn=0;function en(n){try{return dn(n)}catch(t){}}function rn(){var n=tn;if(!n)return 0|(x(0),0);var t=$[n],e=t.type;if(!e)return 0|(x(0),n);var r=Array.prototype.slice.call(arguments);pn(e);O[466252]=n,n=1865008;for(var o=0;o<r.length;o++)if(r[o]&&ln(r[o],e,n))return n=O[n>>2],t.adjusted.push(n),0|(x(r[o]),n);return n=O[n>>2],0|(x(e),n)}a.___cxa_find_matching_catch=rn;var on={buffers:[null,[],[]],printChar:function(n,t){var e=on.buffers[n];0===t||10===t?((1===n?y:g)(E(e,0)),e.length=0):e.push(t)},varargs:0,get:function(n){return on.varargs+=4,O[on.varargs-4>>2]},getStr:function(){return C(on.get())},get64:function(){var n=on.get();on.get();return n},getZero:function(){on.get()}};function an(){return T.length}var un={l:Pn,I:x,b:function(){return b},g:function(n,t){var e=yn();try{return gn(n,t)}catch(r){if(mn(e),r!==r+0&&"longjmp"!==r)throw r;_n(1,0)}},h:function(n,t,e){var r=yn();try{return vn(n,t,e)}catch(o){if(mn(r),o!==o+0&&"longjmp"!==o)throw o;_n(1,0)}},o:function(n,t,e,r){var o=yn();try{return wn(n,t,e,r)}catch(i){if(mn(o),i!==i+0&&"longjmp"!==i)throw i;_n(1,0)}},r:function(n,t,e,r,o){var i=yn();try{return bn(n,t,e,r,o)}catch(a){if(mn(i),a!==a+0&&"longjmp"!==a)throw a;_n(1,0)}},s:function(n,t,e,r,o,i){var a=yn();try{return xn(n,t,e,r,o,i)}catch(u){if(mn(a),u!==u+0&&"longjmp"!==u)throw u;_n(1,0)}},H:function(n,t){var e=yn();try{return An(n,t)}catch(r){if(mn(e),r!==r+0&&"longjmp"!==r)throw r;_n(1,0)}},x:function(n){var t=yn();try{jn(n)}catch(e){if(mn(t),e!==e+0&&"longjmp"!==e)throw e;_n(1,0)}},f:function(n,t){var e=yn();try{Sn(n,t)}catch(r){if(mn(e),r!==r+0&&"longjmp"!==r)throw r;_n(1,0)}},e:function(n,t,e){var r=yn();try{En(n,t,e)}catch(o){if(mn(r),o!==o+0&&"longjmp"!==o)throw o;_n(1,0)}},i:function(n,t,e,r){var o=yn();try{Cn(n,t,e,r)}catch(i){if(mn(o),i!==i+0&&"longjmp"!==i)throw i;_n(1,0)}},t:function(n,t,e,r,o){var i=yn();try{Rn(n,t,e,r,o)}catch(a){if(mn(i),a!==a+0&&"longjmp"!==a)throw a;_n(1,0)}},q:function(n,t,e,r,o,i){var a=yn();try{Tn(n,t,e,r,o,i)}catch(u){if(mn(a),u!==u+0&&"longjmp"!==u)throw u;_n(1,0)}},G:function(n,t,e,r,o){var i=yn();try{Dn(n,t,e,r,o)}catch(a){if(mn(i),a!==a+0&&"longjmp"!==a)throw a;_n(1,0)}},w:function(n,t,e,r){Pn("Assertion failed: "+C(n)+", at: "+[t?C(t):"unknown filename",e,r?C(r):"unknown function"])},k:function(n){return hn(n)},F:function(n){var t=$[n];return t&&!t.caught&&(t.caught=!0,fn.uncaught_exceptions--),t&&(t.rethrown=!1),Q.push(n),function(n){n&&$[n].refcount++}(nn(n)),n},la:function(){_n(0);var n=Q.pop();n&&(function(n){if(n){var t=$[n];t.refcount--,0!==t.refcount||t.rethrown||(t.destructor&&a.dynCall_vi(t.destructor,n),delete $[n],en(n))}}(nn(n)),tn=0)},c:function(n,t){return rn(n,t)},n:function(n,t,e){return rn(n,t,e)},m:en,ka:function(){throw A=!0,"Pure virtual function called!"},j:function(n,t,e){throw $[n]={ptr:n,adjusted:[n],type:t,destructor:e,refcount:0,caught:!1,rethrown:!1},tn=n,"uncaught_exception"in fn?fn.uncaught_exceptions++:fn.uncaught_exceptions=1,n},ja:function(){return fn.uncaught_exceptions},ia:function(){},d:function(n){throw tn||(tn=n),n},E:function(n){return a.___errno_location&&(O[a.___errno_location()>>2]=n),n},ha:function(n,t){on.varargs=t;try{return on.getStreamFromFD(),on.get(),on.get(),on.get(),on.get(),0}catch(e){return"undefined"!==typeof FS&&e instanceof FS.ErrnoError||Pn(e),-e.errno}},D:function(n,t){on.varargs=t;try{for(var e=on.get(),r=on.get(),o=on.get(),i=0,a=0;a<o;a++){for(var u=O[r+8*a>>2],c=O[r+(8*a+4)>>2],s=0;s<c;s++)on.printChar(e,D[u+s]);i+=c}return i}catch(f){return"undefined"!==typeof FS&&f instanceof FS.ErrnoError||Pn(f),-f.errno}},ga:function(n,t){on.varargs=t;try{return 0}catch(e){return"undefined"!==typeof FS&&e instanceof FS.ErrnoError||Pn(e),-e.errno}},fa:function(n,t){on.varargs=t;try{return on.getStreamFromFD(),0}catch(e){return"undefined"!==typeof FS&&e instanceof FS.ErrnoError||Pn(e),-e.errno}},C:function(){},ea:function(){a.abort()},da:function(){self.DApi.close_keyboard()},ca:function(n,t,e,r,o){self.DApi.create_sound(n,L.slice(t/4,t/4+e*r),e,r,o)},ba:function(n){self.DApi.delete_sound(n)},aa:function(){self.DApi.draw_begin()},$:function(n){self.DApi.draw_belt(O.subarray(n/4,n/4+8))},B:function(n,t,e,r,o){self.DApi.draw_blit(n,t,e,r,D.subarray(o,o+e*r*4))},_:function(n,t,e,r){self.DApi.draw_clip_text(n,t,e,r)},v:function(){self.DApi.draw_end()},Z:function(n,t,e,r){var o=D.indexOf(0,e),i=String.fromCharCode.apply(null,D.subarray(e,o));self.DApi.draw_text(n,t,i,r)},Y:function(n,t){self.DApi.duplicate_sound(n,t)},X:function(){self.DApi.exit_game()},A:function(){self.DApi.open_keyboard()},z:function(n,t,e,r){self.DApi.play_sound(n,t,e,r)},W:function(n,t){self.DApi.set_cursor(n,t)},V:function(n,t){self.DApi.set_volume(n,t)},U:function(n){self.DApi.stop_sound(n)},T:function(n,t){return Z[n](t)},S:an,R:function(n,t,e){D.set(D.subarray(t,t+e),n)},Q:function(n){var t=an();if(n>2147418112)return!1;for(var e=Math.max(t,16777216);e<n;)e=e<=536870912?P(2*e,65536):Math.min(P((3*e+2147483648)/4,65536),2147418112);return!!function(n){n=P(n,65536);var t=R.byteLength;try{return-1!==v.grow((n-t)/65536)&&(R=v.buffer,!0)}catch(e){return!1}}(e)&&(M(),!0)},p:function(n){!function(n,t){t&&a.noExitRuntime&&0===n||(a.noExitRuntime||(A=!0,n,!0,a.onExit&&a.onExit(n)),a.quit(n,new On(n)))}(n)},y:function(n){var t=D.indexOf(0,n),e=String.fromCharCode.apply(null,D.subarray(n,t));self.DApi.exit_error(e)},u:function(n,t,e,r){var o=D.indexOf(0,n),i=String.fromCharCode.apply(null,D.subarray(n,o));self.DApi.get_file_contents(i,D.subarray(t,t+r),e)},P:function(n){var t=D.indexOf(0,n),e=String.fromCharCode.apply(null,D.subarray(n,t));return self.DApi.get_file_size(e)},O:function(){Pn("trap!")},N:function(n,t,e){var r=D.indexOf(0,n),o=String.fromCharCode.apply(null,D.subarray(n,r));self.DApi.put_file_contents(o,D.slice(t,t+e))},M:function(n){var t=D.indexOf(0,n),e=String.fromCharCode.apply(null,D.subarray(n,t));self.DApi.remove_file(e)},L:function(n){var t=D.indexOf(0,n),e=String.fromCharCode.apply(null,D.subarray(n,t));self.alert(e)},K:function(n){var t=Date.now()/1e3|0;return n&&(O[n>>2]=t),t},J:function(n){Pn("OOM")},a:1865024},cn=a.asm({},un,R);a.asm=cn;a._DApi_Char=function(){return a.asm.ma.apply(null,arguments)},a._DApi_Init=function(){return a.asm.na.apply(null,arguments)},a._DApi_Key=function(){return a.asm.oa.apply(null,arguments)},a._DApi_Mouse=function(){return a.asm.pa.apply(null,arguments)},a._DApi_Render=function(){return a.asm.qa.apply(null,arguments)},a._DApi_SyncText=function(){return a.asm.ra.apply(null,arguments)};var sn=a.__GLOBAL__sub_I_msgcmd_cpp=function(){return a.asm.sa.apply(null,arguments)},fn=a.__ZSt18uncaught_exceptionv=function(){return a.asm.ta.apply(null,arguments)},ln=a.___cxa_can_catch=function(){return a.asm.ua.apply(null,arguments)},pn=a.___cxa_is_pointer_type=function(){return a.asm.va.apply(null,arguments)},dn=(a.___em_js__api_close_keyboard=function(){return a.asm.wa.apply(null,arguments)},a.___em_js__api_create_sound_float=function(){return a.asm.xa.apply(null,arguments)},a.___em_js__api_delete_sound=function(){return a.asm.ya.apply(null,arguments)},a.___em_js__api_draw_begin=function(){return a.asm.za.apply(null,arguments)},a.___em_js__api_draw_belt=function(){return a.asm.Aa.apply(null,arguments)},a.___em_js__api_draw_blit=function(){return a.asm.Ba.apply(null,arguments)},a.___em_js__api_draw_clip_text=function(){return a.asm.Ca.apply(null,arguments)},a.___em_js__api_draw_end=function(){return a.asm.Da.apply(null,arguments)},a.___em_js__api_draw_text=function(){return a.asm.Ea.apply(null,arguments)},a.___em_js__api_duplicate_sound=function(){return a.asm.Fa.apply(null,arguments)},a.___em_js__api_exit_game=function(){return a.asm.Ga.apply(null,arguments)},a.___em_js__api_open_keyboard=function(){return a.asm.Ha.apply(null,arguments)},a.___em_js__api_play_sound=function(){return a.asm.Ia.apply(null,arguments)},a.___em_js__api_set_cursor=function(){return a.asm.Ja.apply(null,arguments)},a.___em_js__api_set_volume=function(){return a.asm.Ka.apply(null,arguments)},a.___em_js__api_stop_sound=function(){return a.asm.La.apply(null,arguments)},a.___em_js__exit_error=function(){return a.asm.Ma.apply(null,arguments)},a.___em_js__get_file_contents=function(){return a.asm.Na.apply(null,arguments)},a.___em_js__get_file_size=function(){return a.asm.Oa.apply(null,arguments)},a.___em_js__put_file_contents=function(){return a.asm.Pa.apply(null,arguments)},a.___em_js__remove_file=function(){return a.asm.Qa.apply(null,arguments)},a.___em_js__show_alert=function(){return a.asm.Ra.apply(null,arguments)},a.___em_js__trace_pop=function(){return a.asm.Sa.apply(null,arguments)},a.___em_js__trace_push=function(){return a.asm.Ta.apply(null,arguments)},a._free=function(){return a.asm.Ua.apply(null,arguments)}),hn=a._malloc=function(){return a.asm.Va.apply(null,arguments)},_n=a._setThrew=function(){return a.asm.Wa.apply(null,arguments)},mn=a.stackRestore=function(){return a.asm.ib.apply(null,arguments)},yn=a.stackSave=function(){return a.asm.jb.apply(null,arguments)},gn=a.dynCall_ii=function(){return a.asm.Xa.apply(null,arguments)},vn=a.dynCall_iii=function(){return a.asm.Ya.apply(null,arguments)},wn=a.dynCall_iiii=function(){return a.asm.Za.apply(null,arguments)},bn=a.dynCall_iiiii=function(){return a.asm._a.apply(null,arguments)},xn=a.dynCall_iiiiii=function(){return a.asm.$a.apply(null,arguments)},An=a.dynCall_ji=function(){return a.asm.ab.apply(null,arguments)},jn=a.dynCall_v=function(){return a.asm.bb.apply(null,arguments)},Sn=a.dynCall_vi=function(){return a.asm.cb.apply(null,arguments)},En=a.dynCall_vii=function(){return a.asm.db.apply(null,arguments)},Cn=a.dynCall_viii=function(){return a.asm.eb.apply(null,arguments)},Rn=a.dynCall_viiii=function(){return a.asm.fb.apply(null,arguments)},Tn=a.dynCall_viiiii=function(){return a.asm.gb.apply(null,arguments)},Dn=a.dynCall_viji=function(){return a.asm.hb.apply(null,arguments)};function On(n){this.name="ExitStatus",this.message="Program terminated with exit("+n+")",this.status=n}function Ln(n){function t(){a.calledRun||(a.calledRun=!0,A||(!0,I(N),I(B),a.onRuntimeInitialized&&a.onRuntimeInitialized(),function(){if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)q(a.postRun.shift());I(U)}()))}n=n||a.arguments,H>0||(!function(){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)n=a.preRun.shift(),F.unshift(n);var n;I(F)}(),H>0||a.calledRun||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),t()},1)):t()))}function Pn(n){throw a.onAbort&&a.onAbort(n),y(n+=""),g(n),A=!0,1,"abort("+n+"). Build with -s ASSERTIONS=1 for more info."}if(a.asm=cn,a.then=function(n){if(a.calledRun)n(a);else{var t=a.onRuntimeInitialized;a.onRuntimeInitialized=function(){t&&t(),n(a)}}return a},On.prototype=new Error,On.prototype.constructor=On,W=function n(){a.calledRun||Ln(),a.calledRun||(W=n)},a.run=Ln,a.abort=Pn,a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return a.noExitRuntime=!0,Ln(),a.ready=new Promise(function(n,t){delete a.then,a.onAbort=function(n){t(n)},q(function(){n(a)})}),o}}();n.exports=o}).call(this,e(2),"/")},function(n,t,e){n.exports=e.p+"static/media/DiabloSpawn.eeb54305.wasm"},function(n,t,e){(function(t,r){var o=function(){var n="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return function(o){var i,a="undefined"!==typeof(o=o||{})?o:{},u={};for(i in a)a.hasOwnProperty(i)&&(u[i]=a[i]);a.arguments=[],a.thisProgram="./this.program",a.quit=function(n,t){throw t},a.preRun=[],a.postRun=[];var c,s,f=!1,l=!1;f="object"===typeof window,l="function"===typeof importScripts,c="object"===typeof t&&"object"===typeof t.versions&&"string"===typeof t.versions.node&&!f&&!l,s=!f&&!c&&!l;var p,d,h,_,m="";c?(m=r+"/",p=function(n,t){var r;return h||(h=e(3)),_||(_=e(4)),n=_.normalize(n),r=h.readFileSync(n),t?r:r.toString()},d=function(n){var t=p(n,!0);return t.buffer||(t=new Uint8Array(t)),j(t.buffer),t},t.argv.length>1&&(a.thisProgram=t.argv[1].replace(/\\/g,"/")),a.arguments=t.argv.slice(2),t.on("uncaughtException",function(n){if(!(n instanceof On))throw n}),t.on("unhandledRejection",Pn),a.quit=function(n){t.exit(n)},a.inspect=function(){return"[Emscripten Module object]"}):s?("undefined"!=typeof read&&(p=function(n){return read(n)}),d=function(n){var t;return"function"===typeof readbuffer?new Uint8Array(readbuffer(n)):(j("object"===typeof(t=read(n,"binary"))),t)},"undefined"!=typeof scriptArgs?a.arguments=scriptArgs:"undefined"!=typeof arguments&&(a.arguments=arguments),"function"===typeof quit&&(a.quit=function(n){quit(n)})):(f||l)&&(l?m=self.location.href:document.currentScript&&(m=document.currentScript.src),n&&(m=n),m=0!==m.indexOf("blob:")?m.substr(0,m.lastIndexOf("/")+1):"",p=function(n){var t=new XMLHttpRequest;return t.open("GET",n,!1),t.send(null),t.responseText},l&&(d=function(n){var t=new XMLHttpRequest;return t.open("GET",n,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),function(n,t,e){var r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):e()},r.onerror=e,r.send(null)});var y=a.print||("undefined"!==typeof console?console.log.bind(console):"undefined"!==typeof print?print:null),g=a.printErr||("undefined"!==typeof printErr?printErr:"undefined"!==typeof console&&console.warn.bind(console)||y);for(i in u)u.hasOwnProperty(i)&&(a[i]=u[i]);u=void 0;var v,w={"f64-rem":function(n,t){return n%t},debugger:function(){}},b=(new Array(0),0),x=function(n){b=n};"object"!==typeof WebAssembly&&g("no native wasm support detected");var A=!1;function j(n,t){n||Pn("Assertion failed: "+t)}var S="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function E(n,t,e){for(var r=t+e,o=t;n[o]&&!(o>=r);)++o;if(o-t>16&&n.subarray&&S)return S.decode(n.subarray(t,o));for(var i="";t<o;){var a=n[t++];if(128&a){var u=63&n[t++];if(192!=(224&a)){var c=63&n[t++];if((a=224==(240&a)?(15&a)<<12|u<<6|c:(7&a)<<18|u<<12|c<<6|63&n[t++])<65536)i+=String.fromCharCode(a);else{var s=a-65536;i+=String.fromCharCode(55296|s>>10,56320|1023&s)}}else i+=String.fromCharCode((31&a)<<6|u)}else i+=String.fromCharCode(a)}return i}function C(n,t){return n?E(D,n,t):""}var R,T,D,O,L;"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");function P(n,t){return n%t>0&&(n+=t-n%t),n}function M(){a.HEAP8=T=new Int8Array(R),a.HEAP16=new Int16Array(R),a.HEAP32=O=new Int32Array(R),a.HEAPU8=D=new Uint8Array(R),a.HEAPU16=new Uint16Array(R),a.HEAPU32=new Uint32Array(R),a.HEAPF32=L=new Float32Array(R),a.HEAPF64=new Float64Array(R)}var k=a.TOTAL_MEMORY||134217728;function I(n){for(;n.length>0;){var t=n.shift();if("function"!=typeof t){var e=t.func;"number"===typeof e?void 0===t.arg?a.dynCall_v(e):a.dynCall_vi(e,t.arg):e(void 0===t.arg?null:t.arg)}else t()}}k<5242880&&g("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+k+"! (TOTAL_STACK=5242880)"),(v=a.wasmMemory?a.wasmMemory:new WebAssembly.Memory({initial:k/65536}))&&(R=v.buffer),k=R.byteLength,M(),O[460100]=7083312;var F=[],N=[],B=[],U=[];function q(n){U.unshift(n)}var H=0,z=null,W=null;a.preloadedImages={},a.preloadedAudios={};var G="data:application/octet-stream;base64,";function X(n){return String.prototype.startsWith?n.startsWith(G):0===n.indexOf(G)}var K,Y="DiabloSpawn.wasm";function J(){try{if(a.wasmBinary)return new Uint8Array(a.wasmBinary);if(d)return d(Y);throw"both async and sync fetching of the wasm failed"}catch(g){Pn(g)}}function V(n){var t={env:n,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:w};function e(n,t){var e=n.exports;a.asm=e,function(n){if(H--,a.monitorRunDependencies&&a.monitorRunDependencies(H),0==H&&(null!==z&&(clearInterval(z),z=null),W)){var t=W;W=null,t()}}()}function r(n){e(n.instance)}function o(n){return(a.wasmBinary||!f&&!l||"function"!==typeof fetch?new Promise(function(n,t){n(J())}):fetch(Y,{credentials:"same-origin"}).then(function(n){if(!n.ok)throw"failed to load wasm binary file at '"+Y+"'";return n.arrayBuffer()}).catch(function(){return J()})).then(function(n){return WebAssembly.instantiate(n,t)}).then(n,function(n){g("failed to asynchronously prepare wasm: "+n),Pn(n)})}if(H++,a.monitorRunDependencies&&a.monitorRunDependencies(H),a.instantiateWasm)try{return a.instantiateWasm(t,e)}catch(i){return g("Module.instantiateWasm callback failed with error: "+i),!1}return function(){if(a.wasmBinary||"function"!==typeof WebAssembly.instantiateStreaming||X(Y)||"function"!==typeof fetch)return o(r);fetch(Y,{credentials:"same-origin"}).then(function(n){return WebAssembly.instantiateStreaming(n,t).then(r,function(n){g("wasm streaming compile failed: "+n),g("falling back to ArrayBuffer instantiation"),o(r)})})}(),{}}X(Y)||(K=Y,Y=a.locateFile?a.locateFile(K,m):m+K),a.asm=function(n,t,e){return t.memory=v,t.table=new WebAssembly.Table({initial:766,maximum:766,element:"anyfunc"}),t.__memory_base=1024,t.__table_base=0,V(t)};var Z=[function(n){self.DApi.current_save_id(n)}];N.push({func:function(){sn()}});var $={},Q=[];function nn(n){if(!n||$[n])return n;for(var t in $)for(var e=+t,r=$[e].adjusted,o=r.length,i=0;i<o;i++)if(r[i]===n)return e;return n}var tn=0;function en(n){try{return dn(n)}catch(t){}}function rn(){var n=tn;if(!n)return 0|(x(0),0);var t=$[n],e=t.type;if(!e)return 0|(x(0),n);var r=Array.prototype.slice.call(arguments);pn(e);O[460096]=n,n=1840384;for(var o=0;o<r.length;o++)if(r[o]&&ln(r[o],e,n))return n=O[n>>2],t.adjusted.push(n),0|(x(r[o]),n);return n=O[n>>2],0|(x(e),n)}a.___cxa_find_matching_catch=rn;var on={buffers:[null,[],[]],printChar:function(n,t){var e=on.buffers[n];0===t||10===t?((1===n?y:g)(E(e,0)),e.length=0):e.push(t)},varargs:0,get:function(n){return on.varargs+=4,O[on.varargs-4>>2]},getStr:function(){return C(on.get())},get64:function(){var n=on.get();on.get();return n},getZero:function(){on.get()}};function an(){return T.length}var un={l:Pn,I:x,b:function(){return b},g:function(n,t){var e=yn();try{return gn(n,t)}catch(r){if(mn(e),r!==r+0&&"longjmp"!==r)throw r;_n(1,0)}},h:function(n,t,e){var r=yn();try{return vn(n,t,e)}catch(o){if(mn(r),o!==o+0&&"longjmp"!==o)throw o;_n(1,0)}},o:function(n,t,e,r){var o=yn();try{return wn(n,t,e,r)}catch(i){if(mn(o),i!==i+0&&"longjmp"!==i)throw i;_n(1,0)}},t:function(n,t,e,r,o){var i=yn();try{return bn(n,t,e,r,o)}catch(a){if(mn(i),a!==a+0&&"longjmp"!==a)throw a;_n(1,0)}},s:function(n,t,e,r,o,i){var a=yn();try{return xn(n,t,e,r,o,i)}catch(u){if(mn(a),u!==u+0&&"longjmp"!==u)throw u;_n(1,0)}},H:function(n,t){var e=yn();try{return An(n,t)}catch(r){if(mn(e),r!==r+0&&"longjmp"!==r)throw r;_n(1,0)}},x:function(n){var t=yn();try{jn(n)}catch(e){if(mn(t),e!==e+0&&"longjmp"!==e)throw e;_n(1,0)}},f:function(n,t){var e=yn();try{Sn(n,t)}catch(r){if(mn(e),r!==r+0&&"longjmp"!==r)throw r;_n(1,0)}},e:function(n,t,e){var r=yn();try{En(n,t,e)}catch(o){if(mn(r),o!==o+0&&"longjmp"!==o)throw o;_n(1,0)}},k:function(n,t,e,r){var o=yn();try{Cn(n,t,e,r)}catch(i){if(mn(o),i!==i+0&&"longjmp"!==i)throw i;_n(1,0)}},q:function(n,t,e,r,o){var i=yn();try{Rn(n,t,e,r,o)}catch(a){if(mn(i),a!==a+0&&"longjmp"!==a)throw a;_n(1,0)}},r:function(n,t,e,r,o,i){var a=yn();try{Tn(n,t,e,r,o,i)}catch(u){if(mn(a),u!==u+0&&"longjmp"!==u)throw u;_n(1,0)}},G:function(n,t,e,r,o){var i=yn();try{Dn(n,t,e,r,o)}catch(a){if(mn(i),a!==a+0&&"longjmp"!==a)throw a;_n(1,0)}},w:function(n,t,e,r){Pn("Assertion failed: "+C(n)+", at: "+[t?C(t):"unknown filename",e,r?C(r):"unknown function"])},j:function(n){return hn(n)},F:function(n){var t=$[n];return t&&!t.caught&&(t.caught=!0,fn.uncaught_exceptions--),t&&(t.rethrown=!1),Q.push(n),function(n){n&&$[n].refcount++}(nn(n)),n},la:function(){_n(0);var n=Q.pop();n&&(function(n){if(n){var t=$[n];t.refcount--,0!==t.refcount||t.rethrown||(t.destructor&&a.dynCall_vi(t.destructor,n),delete $[n],en(n))}}(nn(n)),tn=0)},c:function(n,t){return rn(n,t)},n:function(n,t,e){return rn(n,t,e)},m:en,ka:function(){throw A=!0,"Pure virtual function called!"},i:function(n,t,e){throw $[n]={ptr:n,adjusted:[n],type:t,destructor:e,refcount:0,caught:!1,rethrown:!1},tn=n,"uncaught_exception"in fn?fn.uncaught_exceptions++:fn.uncaught_exceptions=1,n},ja:function(){return fn.uncaught_exceptions},ia:function(){},d:function(n){throw tn||(tn=n),n},E:function(n){return a.___errno_location&&(O[a.___errno_location()>>2]=n),n},ha:function(n,t){on.varargs=t;try{return on.getStreamFromFD(),on.get(),on.get(),on.get(),on.get(),0}catch(e){return"undefined"!==typeof FS&&e instanceof FS.ErrnoError||Pn(e),-e.errno}},D:function(n,t){on.varargs=t;try{for(var e=on.get(),r=on.get(),o=on.get(),i=0,a=0;a<o;a++){for(var u=O[r+8*a>>2],c=O[r+(8*a+4)>>2],s=0;s<c;s++)on.printChar(e,D[u+s]);i+=c}return i}catch(f){return"undefined"!==typeof FS&&f instanceof FS.ErrnoError||Pn(f),-f.errno}},ga:function(n,t){on.varargs=t;try{return 0}catch(e){return"undefined"!==typeof FS&&e instanceof FS.ErrnoError||Pn(e),-e.errno}},fa:function(n,t){on.varargs=t;try{return on.getStreamFromFD(),0}catch(e){return"undefined"!==typeof FS&&e instanceof FS.ErrnoError||Pn(e),-e.errno}},C:function(){},ea:function(){a.abort()},da:function(){self.DApi.close_keyboard()},ca:function(n,t,e,r,o){self.DApi.create_sound(n,L.slice(t/4,t/4+e*r),e,r,o)},ba:function(n){self.DApi.delete_sound(n)},aa:function(){self.DApi.draw_begin()},$:function(n){self.DApi.draw_belt(O.subarray(n/4,n/4+8))},B:function(n,t,e,r,o){self.DApi.draw_blit(n,t,e,r,D.subarray(o,o+e*r*4))},_:function(n,t,e,r){self.DApi.draw_clip_text(n,t,e,r)},v:function(){self.DApi.draw_end()},Z:function(n,t,e,r){var o=D.indexOf(0,e),i=String.fromCharCode.apply(null,D.subarray(e,o));self.DApi.draw_text(n,t,i,r)},Y:function(n,t){self.DApi.duplicate_sound(n,t)},X:function(){self.DApi.exit_game()},A:function(){self.DApi.open_keyboard()},z:function(n,t,e,r){self.DApi.play_sound(n,t,e,r)},W:function(n,t){self.DApi.set_cursor(n,t)},V:function(n,t){self.DApi.set_volume(n,t)},U:function(n){self.DApi.stop_sound(n)},T:function(n,t){return Z[n](t)},S:an,R:function(n,t,e){D.set(D.subarray(t,t+e),n)},Q:function(n){var t=an();if(n>2147418112)return!1;for(var e=Math.max(t,16777216);e<n;)e=e<=536870912?P(2*e,65536):Math.min(P((3*e+2147483648)/4,65536),2147418112);return!!function(n){n=P(n,65536);var t=R.byteLength;try{return-1!==v.grow((n-t)/65536)&&(R=v.buffer,!0)}catch(e){return!1}}(e)&&(M(),!0)},p:function(n){!function(n,t){t&&a.noExitRuntime&&0===n||(a.noExitRuntime||(A=!0,n,!0,a.onExit&&a.onExit(n)),a.quit(n,new On(n)))}(n)},y:function(n){var t=D.indexOf(0,n),e=String.fromCharCode.apply(null,D.subarray(n,t));self.DApi.exit_error(e)},u:function(n,t,e,r){var o=D.indexOf(0,n),i=String.fromCharCode.apply(null,D.subarray(n,o));self.DApi.get_file_contents(i,D.subarray(t,t+r),e)},P:function(n){var t=D.indexOf(0,n),e=String.fromCharCode.apply(null,D.subarray(n,t));return self.DApi.get_file_size(e)},O:function(){Pn("trap!")},N:function(n,t,e){var r=D.indexOf(0,n),o=String.fromCharCode.apply(null,D.subarray(n,r));self.DApi.put_file_contents(o,D.slice(t,t+e))},M:function(n){var t=D.indexOf(0,n),e=String.fromCharCode.apply(null,D.subarray(n,t));self.DApi.remove_file(e)},L:function(n){var t=D.indexOf(0,n),e=String.fromCharCode.apply(null,D.subarray(n,t));self.alert(e)},K:function(n){var t=Date.now()/1e3|0;return n&&(O[n>>2]=t),t},J:function(n){Pn("OOM")},a:1840400},cn=a.asm({},un,R);a.asm=cn;a._DApi_Char=function(){return a.asm.ma.apply(null,arguments)},a._DApi_Init=function(){return a.asm.na.apply(null,arguments)},a._DApi_Key=function(){return a.asm.oa.apply(null,arguments)},a._DApi_Mouse=function(){return a.asm.pa.apply(null,arguments)},a._DApi_Render=function(){return a.asm.qa.apply(null,arguments)},a._DApi_SyncText=function(){return a.asm.ra.apply(null,arguments)};var sn=a.__GLOBAL__sub_I_msgcmd_cpp=function(){return a.asm.sa.apply(null,arguments)},fn=a.__ZSt18uncaught_exceptionv=function(){return a.asm.ta.apply(null,arguments)},ln=a.___cxa_can_catch=function(){return a.asm.ua.apply(null,arguments)},pn=a.___cxa_is_pointer_type=function(){return a.asm.va.apply(null,arguments)},dn=(a.___em_js__api_close_keyboard=function(){return a.asm.wa.apply(null,arguments)},a.___em_js__api_create_sound_float=function(){return a.asm.xa.apply(null,arguments)},a.___em_js__api_delete_sound=function(){return a.asm.ya.apply(null,arguments)},a.___em_js__api_draw_begin=function(){return a.asm.za.apply(null,arguments)},a.___em_js__api_draw_belt=function(){return a.asm.Aa.apply(null,arguments)},a.___em_js__api_draw_blit=function(){return a.asm.Ba.apply(null,arguments)},a.___em_js__api_draw_clip_text=function(){return a.asm.Ca.apply(null,arguments)},a.___em_js__api_draw_end=function(){return a.asm.Da.apply(null,arguments)},a.___em_js__api_draw_text=function(){return a.asm.Ea.apply(null,arguments)},a.___em_js__api_duplicate_sound=function(){return a.asm.Fa.apply(null,arguments)},a.___em_js__api_exit_game=function(){return a.asm.Ga.apply(null,arguments)},a.___em_js__api_open_keyboard=function(){return a.asm.Ha.apply(null,arguments)},a.___em_js__api_play_sound=function(){return a.asm.Ia.apply(null,arguments)},a.___em_js__api_set_cursor=function(){return a.asm.Ja.apply(null,arguments)},a.___em_js__api_set_volume=function(){return a.asm.Ka.apply(null,arguments)},a.___em_js__api_stop_sound=function(){return a.asm.La.apply(null,arguments)},a.___em_js__exit_error=function(){return a.asm.Ma.apply(null,arguments)},a.___em_js__get_file_contents=function(){return a.asm.Na.apply(null,arguments)},a.___em_js__get_file_size=function(){return a.asm.Oa.apply(null,arguments)},a.___em_js__put_file_contents=function(){return a.asm.Pa.apply(null,arguments)},a.___em_js__remove_file=function(){return a.asm.Qa.apply(null,arguments)},a.___em_js__show_alert=function(){return a.asm.Ra.apply(null,arguments)},a.___em_js__trace_pop=function(){return a.asm.Sa.apply(null,arguments)},a.___em_js__trace_push=function(){return a.asm.Ta.apply(null,arguments)},a._free=function(){return a.asm.Ua.apply(null,arguments)}),hn=a._malloc=function(){return a.asm.Va.apply(null,arguments)},_n=a._setThrew=function(){return a.asm.Wa.apply(null,arguments)},mn=a.stackRestore=function(){return a.asm.ib.apply(null,arguments)},yn=a.stackSave=function(){return a.asm.jb.apply(null,arguments)},gn=a.dynCall_ii=function(){return a.asm.Xa.apply(null,arguments)},vn=a.dynCall_iii=function(){return a.asm.Ya.apply(null,arguments)},wn=a.dynCall_iiii=function(){return a.asm.Za.apply(null,arguments)},bn=a.dynCall_iiiii=function(){return a.asm._a.apply(null,arguments)},xn=a.dynCall_iiiiii=function(){return a.asm.$a.apply(null,arguments)},An=a.dynCall_ji=function(){return a.asm.ab.apply(null,arguments)},jn=a.dynCall_v=function(){return a.asm.bb.apply(null,arguments)},Sn=a.dynCall_vi=function(){return a.asm.cb.apply(null,arguments)},En=a.dynCall_vii=function(){return a.asm.db.apply(null,arguments)},Cn=a.dynCall_viii=function(){return a.asm.eb.apply(null,arguments)},Rn=a.dynCall_viiii=function(){return a.asm.fb.apply(null,arguments)},Tn=a.dynCall_viiiii=function(){return a.asm.gb.apply(null,arguments)},Dn=a.dynCall_viji=function(){return a.asm.hb.apply(null,arguments)};function On(n){this.name="ExitStatus",this.message="Program terminated with exit("+n+")",this.status=n}function Ln(n){function t(){a.calledRun||(a.calledRun=!0,A||(!0,I(N),I(B),a.onRuntimeInitialized&&a.onRuntimeInitialized(),function(){if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)q(a.postRun.shift());I(U)}()))}n=n||a.arguments,H>0||(!function(){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)n=a.preRun.shift(),F.unshift(n);var n;I(F)}(),H>0||a.calledRun||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),t()},1)):t()))}function Pn(n){throw a.onAbort&&a.onAbort(n),y(n+=""),g(n),A=!0,1,"abort("+n+"). Build with -s ASSERTIONS=1 for more info."}if(a.asm=cn,a.then=function(n){if(a.calledRun)n(a);else{var t=a.onRuntimeInitialized;a.onRuntimeInitialized=function(){t&&t(),n(a)}}return a},On.prototype=new Error,On.prototype.constructor=On,W=function n(){a.calledRun||Ln(),a.calledRun||(W=n)},a.run=Ln,a.abort=Pn,a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return a.noExitRuntime=!0,Ln(),a.ready=new Promise(function(n,t){delete a.then,a.onAbort=function(n){t(n)},q(function(){n(a)})}),o}}();n.exports=o}).call(this,e(2),"/")},function(n,t,e){n.exports=e(19)},function(n,t,e){var r=function(n){"use strict";var t,e=Object.prototype,r=e.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(n,t,e,r){var o=t&&t.prototype instanceof _?t:_,i=Object.create(o.prototype),a=new C(r||[]);return i._invoke=function(n,t,e){var r=f;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===o)throw i;return T()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var u=j(a,e);if(u){if(u===h)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(r===f)throw r=d,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r=p;var c=s(n,t,e);if("normal"===c.type){if(r=e.done?d:l,c.arg===h)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(r=d,e.method="throw",e.arg=c.arg)}}}(n,e,a),i}function s(n,t,e){try{return{type:"normal",arg:n.call(t,e)}}catch(r){return{type:"throw",arg:r}}}n.wrap=c;var f="suspendedStart",l="suspendedYield",p="executing",d="completed",h={};function _(){}function m(){}function y(){}var g={};g[i]=function(){return this};var v=Object.getPrototypeOf,w=v&&v(v(R([])));w&&w!==e&&r.call(w,i)&&(g=w);var b=y.prototype=_.prototype=Object.create(g);function x(n){["next","throw","return"].forEach(function(t){n[t]=function(n){return this._invoke(t,n)}})}function A(n){var t;this._invoke=function(e,o){function i(){return new Promise(function(t,i){!function t(e,o,i,a){var u=s(n[e],n,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?Promise.resolve(f.__await).then(function(n){t("next",n,i,a)},function(n){t("throw",n,i,a)}):Promise.resolve(f).then(function(n){c.value=n,i(c)},function(n){return t("throw",n,i,a)})}a(u.arg)}(e,o,t,i)})}return t=t?t.then(i,i):i()}}function j(n,e){var r=n.iterator[e.method];if(r===t){if(e.delegate=null,"throw"===e.method){if(n.iterator.return&&(e.method="return",e.arg=t,j(n,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=s(r,n.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[n.resultName]=i.value,e.next=n.nextLoc,"return"!==e.method&&(e.method="next",e.arg=t),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function S(n){var t={tryLoc:n[0]};1 in n&&(t.catchLoc=n[1]),2 in n&&(t.finallyLoc=n[2],t.afterLoc=n[3]),this.tryEntries.push(t)}function E(n){var t=n.completion||{};t.type="normal",delete t.arg,n.completion=t}function C(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(S,this),this.reset(!0)}function R(n){if(n){var e=n[i];if(e)return e.call(n);if("function"===typeof n.next)return n;if(!isNaN(n.length)){var o=-1,a=function e(){for(;++o<n.length;)if(r.call(n,o))return e.value=n[o],e.done=!1,e;return e.value=t,e.done=!0,e};return a.next=a}}return{next:T}}function T(){return{value:t,done:!0}}return m.prototype=b.constructor=y,y.constructor=m,y[u]=m.displayName="GeneratorFunction",n.isGeneratorFunction=function(n){var t="function"===typeof n&&n.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,y):(n.__proto__=y,u in n||(n[u]="GeneratorFunction")),n.prototype=Object.create(b),n},n.awrap=function(n){return{__await:n}},x(A.prototype),A.prototype[a]=function(){return this},n.AsyncIterator=A,n.async=function(t,e,r,o){var i=new A(c(t,e,r,o));return n.isGeneratorFunction(e)?i:i.next().then(function(n){return n.done?n.value:i.next()})},x(b),b[u]="Generator",b[i]=function(){return this},b.toString=function(){return"[object Generator]"},n.keys=function(n){var t=[];for(var e in n)t.push(e);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=R,C.prototype={constructor:C,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!n)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=t)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var e=this;function o(r,o){return u.type="throw",u.arg=n,e.next=r,o&&(e.method="next",e.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(n,t){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===n||"continue"===n)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=n,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),h},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.finallyLoc===n)return this.complete(e.completion,e.afterLoc),E(e),h}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.tryLoc===n){var r=e.completion;if("throw"===r.type){var o=r.arg;E(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(n,e,r){return this.delegate={iterator:R(n),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=t),h}},n}(n.exports);try{regeneratorRuntime=r}catch(o){Function("r","regeneratorRuntime = r")(r)}},function(n,t,e){"use strict";var r=e(0),o=e(5),i=e(21),a=e(11);function u(n){var t=new i(n),e=o(i.prototype.request,t);return r.extend(e,i.prototype,t),r.extend(e,t),e}var c=u(e(8));c.Axios=i,c.create=function(n){return u(a(c.defaults,n))},c.Cancel=e(12),c.CancelToken=e(33),c.isCancel=e(7),c.all=function(n){return Promise.all(n)},c.spread=e(34),n.exports=c,n.exports.default=c},function(n,t){n.exports=function(n){return null!=n&&null!=n.constructor&&"function"===typeof n.constructor.isBuffer&&n.constructor.isBuffer(n)}},function(n,t,e){"use strict";var r=e(0),o=e(6),i=e(22),a=e(23),u=e(11);function c(n){this.defaults=n,this.interceptors={request:new i,response:new i}}c.prototype.request=function(n){"string"===typeof n?(n=arguments[1]||{}).url=arguments[0]:n=n||{},(n=u(this.defaults,n)).method=n.method?n.method.toLowerCase():"get";var t=[a,void 0],e=Promise.resolve(n);for(this.interceptors.request.forEach(function(n){t.unshift(n.fulfilled,n.rejected)}),this.interceptors.response.forEach(function(n){t.push(n.fulfilled,n.rejected)});t.length;)e=e.then(t.shift(),t.shift());return e},c.prototype.getUri=function(n){return n=u(this.defaults,n),o(n.url,n.params,n.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],function(n){c.prototype[n]=function(t,e){return this.request(r.merge(e||{},{method:n,url:t}))}}),r.forEach(["post","put","patch"],function(n){c.prototype[n]=function(t,e,o){return this.request(r.merge(o||{},{method:n,url:t,data:e}))}}),n.exports=c},function(n,t,e){"use strict";var r=e(0);function o(){this.handlers=[]}o.prototype.use=function(n,t){return this.handlers.push({fulfilled:n,rejected:t}),this.handlers.length-1},o.prototype.eject=function(n){this.handlers[n]&&(this.handlers[n]=null)},o.prototype.forEach=function(n){r.forEach(this.handlers,function(t){null!==t&&n(t)})},n.exports=o},function(n,t,e){"use strict";var r=e(0),o=e(24),i=e(7),a=e(8),u=e(31),c=e(32);function s(n){n.cancelToken&&n.cancelToken.throwIfRequested()}n.exports=function(n){return s(n),n.baseURL&&!u(n.url)&&(n.url=c(n.baseURL,n.url)),n.headers=n.headers||{},n.data=o(n.data,n.headers,n.transformRequest),n.headers=r.merge(n.headers.common||{},n.headers[n.method]||{},n.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete n.headers[t]}),(n.adapter||a.adapter)(n).then(function(t){return s(n),t.data=o(t.data,t.headers,n.transformResponse),t},function(t){return i(t)||(s(n),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,n.transformResponse))),Promise.reject(t)})}},function(n,t,e){"use strict";var r=e(0);n.exports=function(n,t,e){return r.forEach(e,function(e){n=e(n,t)}),n}},function(n,t,e){"use strict";var r=e(0);n.exports=function(n,t){r.forEach(n,function(e,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(n[t]=e,delete n[r])})}},function(n,t,e){"use strict";var r=e(10);n.exports=function(n,t,e){var o=e.config.validateStatus;!o||o(e.status)?n(e):t(r("Request failed with status code "+e.status,e.config,null,e.request,e))}},function(n,t,e){"use strict";n.exports=function(n,t,e,r,o){return n.config=t,e&&(n.code=e),n.request=r,n.response=o,n.isAxiosError=!0,n.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},n}},function(n,t,e){"use strict";var r=e(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];n.exports=function(n){var t,e,i,a={};return n?(r.forEach(n.split("\n"),function(n){if(i=n.indexOf(":"),t=r.trim(n.substr(0,i)).toLowerCase(),e=r.trim(n.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([e]):a[t]?a[t]+", "+e:e}}),a):a}},function(n,t,e){"use strict";var r=e(0);n.exports=r.isStandardBrowserEnv()?function(){var n,t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");function o(n){var r=n;return t&&(e.setAttribute("href",r),r=e.href),e.setAttribute("href",r),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=o(window.location.href),function(t){var e=r.isString(t)?o(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return!0}},function(n,t,e){"use strict";var r=e(0);n.exports=r.isStandardBrowserEnv()?{write:function(n,t,e,o,i,a){var u=[];u.push(n+"="+encodeURIComponent(t)),r.isNumber(e)&&u.push("expires="+new Date(e).toGMTString()),r.isString(o)&&u.push("path="+o),r.isString(i)&&u.push("domain="+i),!0===a&&u.push("secure"),document.cookie=u.join("; ")},read:function(n){var t=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(n,t,e){"use strict";n.exports=function(n){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(n)}},function(n,t,e){"use strict";n.exports=function(n,t){return t?n.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):n}},function(n,t,e){"use strict";var r=e(12);function o(n){if("function"!==typeof n)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(n){t=n});var e=this;n(function(n){e.reason||(e.reason=new r(n),t(e.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var n;return{token:new o(function(t){n=t}),cancel:n}},n.exports=o},function(n,t,e){"use strict";n.exports=function(n){return function(t){return n.apply(null,t)}}},function(n,t,e){"use strict";function r(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=[],r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done)&&(e.push(a.value),!t||e.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return e}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}e.r(t);var o=e(1),i=e.n(o);function a(n){return function(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(n,t,e,r,o,i,a){try{var u=n[i](a),c=u.value}catch(s){return void e(s)}u.done?t(c):Promise.resolve(c).then(r,o)}function c(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var i=n.apply(t,e);function a(n){u(i,r,o,a,c,"next",n)}function c(n){u(i,r,o,a,c,"throw",n)}a(void 0)})}}var s=e(13),f=e.n(s),l=e(14),p=e.n(l),d=e(15),h=e.n(d),_=e(16),m=e.n(_),y=e(17),g=e.n(y),v=1316452,w=1196648,b=self,x=null,A=null,j=null,S=null,E=null,C=null,R=!1,T={exit_error:function(n){b.postMessage({action:"error",error:n})},exit_game:function(){b.postMessage({action:"exit"})},current_save_id:function(n){b.postMessage({action:"current_save",name:n>=0?R?"spawn".concat(n,".sv"):"single_".concat(n,".sv"):null})},get_file_size:function(n){var t=S.get(n.toLowerCase());return t?t.byteLength:0},get_file_contents:function(n,t,e){var r=S.get(n.toLowerCase());r&&t.set(r.subarray(e,e+t.length))},put_file_contents:function(n,t){n=n.toLowerCase(),S.set(n,t),b.postMessage({action:"fs",func:"update",params:[n,t]})},remove_file:function(n){n=n.toLowerCase(),S.delete(n),b.postMessage({action:"fs",func:"delete",params:[n]})},set_cursor:function(n,t){b.postMessage({action:"cursor",x:n,y:t})},open_keyboard:function(){b.postMessage({action:"keyboard",open:!0})},close_keyboard:function(){b.postMessage({action:"keyboard",open:!1})}};var D={draw_begin:function(){E={images:[],text:[],clip:null,belt:C},C=null},draw_blit:function(n,t,e,r,o){E.images.push({x:n,y:t,w:e,h:r,data:o.slice()})},draw_clip_text:function(n,t,e,r){E.clip={x0:n,y0:t,x1:e,y1:r}},draw_text:function(n,t,e,r){E.text.push({x:n,y:t,text:e,color:r})},draw_end:function(){var n=E.images.map(function(n){return n.data.buffer});E.belt&&n.push(E.belt.buffer),b.postMessage({action:"render",batch:E},n),E=null},draw_belt:function(n){C=n.slice()}},O={draw_begin:function(){A.save(),A.font="bold 13px Times New Roman"},draw_blit:function(n,t,e,r,o){j.data.set(o),A.putImageData(j,n,t)},draw_clip_text:function(n,t,e,r){A.beginPath(),A.rect(n,t,e-n,r-t),A.clip()},draw_text:function(n,t,e,r){var o=r>>16&255,i=r>>8&255,a=255&r;A.fillStyle="rgb(".concat(o,", ").concat(i,", ").concat(a,")"),A.fillText(e,n,t+22)},draw_end:function(){A.restore();var n=x.transferToImageBitmap(),t=[n];C&&t.push(C.buffer),b.postMessage({action:"render",batch:{bitmap:n,belt:C}},t),C=null},draw_belt:function(n){C=n.slice()}},L=null,P=null,M=0,k=0;["create_sound","duplicate_sound"].forEach(function(n){T[n]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(L)k=e[0]+1,L.push({func:n,params:e}),"create_sound"===n&&P.push(e[1].buffer);else{M=e[0]+1;var o=[];"create_sound"===n&&o.push(e[1].buffer),b.postMessage({action:"audio",func:n,params:e},o)}}}),["play_sound","set_volume","stop_sound","delete_sound"].forEach(function(n){T[n]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];L&&e[0]>=M?L.push({func:n,params:e}):b.postMessage({action:"audio",func:n,params:e})}}),b.DApi=T;var I=null;function F(n){try{var t;L=[],P=[];for(var e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];(t=I)["_"+n].apply(t,r),L.length&&(M=k,b.postMessage({action:"audioBatch",batch:L},P),L=null,P=null)}catch(i){b.postMessage({action:"error",error:i.message,stack:i.stack})}}function N(n,t,e){b.postMessage({action:"progress",text:n,loaded:t,total:e})}var B=function(n,t){return new Promise(function(e,r){var o=new FileReader;o.onload=function(){t&&t({loaded:n.size}),e(o.result)},o.onerror=function(){return r(o.error)},o.onabort=function(){return r()},t&&o.addEventListener("progress",t),o.readAsArrayBuffer(n)})};function U(n,t){return q.apply(this,arguments)}function q(){return(q=c(i.a.mark(function n(t,e){var r,o;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.request({url:t?h.a:f.a,responseType:"arraybuffer",onDownloadProgress:e});case 2:return r=n.sent,n.next=5,(t?m.a:p.a)({wasmBinary:r.data}).ready;case 5:return o=n.sent,e({loaded:2e6}),n.abrupt("return",o);case 8:case"end":return n.stop()}},n)}))).apply(this,arguments)}function H(){return(H=c(i.a.mark(function n(t,e,o){var a,u,c,s,f,l,p,d,h,_,m;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l=function(){N("Loading...",a+c*f,u+s*f)},R=e,o?(x=new OffscreenCanvas(640,480),A=x.getContext("2d"),j=A.createImageData(640,480),Object.assign(T,O)):Object.assign(T,D),N("Loading..."),a=0,u=t?t.size:0,c=0,s=e?w:v,f=5,p=U(e,function(n){c=Math.min(n.loaded,s),l()}),d=t?B(t,function(n){a=n.loaded,l()}):Promise.resolve(null),n.next=10,Promise.all([p,d]);case 10:h=n.sent,_=r(h,2),I=_[0],(t=_[1])&&S.set(e?"spawn.mpq":"diabdat.mpq",new Uint8Array(t)),N("Initializing..."),m="1.0.2".match(/(\d+)\.(\d+)\.(\d+)/),I._DApi_Init(Math.floor(performance.now()),o?1:0,parseInt(m[1]),parseInt(m[2]),parseInt(m[3])),setInterval(function(){F("DApi_Render",Math.floor(performance.now()))},50);case 19:case"end":return n.stop()}},n)}))).apply(this,arguments)}b.addEventListener("message",function(n){var t=n.data;switch(t.action){case"init":S=t.files,function(n,t,e){return H.apply(this,arguments)}(t.mpq,t.spawn,t.offscreen).then(function(){return b.postMessage({action:"loaded"})},function(n){return b.postMessage({action:"failed",error:n.message||n.name,stack:n.stack})});break;case"event":F.apply(void 0,[t.func].concat(a(t.params)))}})}]);
//# sourceMappingURL=f461d9db13caedaec0d1.worker.js.map