(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{57:function(e,t,n){"use strict";n.r(t);var r=n(8),a=Object(r.a)();window.addEventListener("message",function(e){var t=e.data,n=e.source;"transfer"===t.method?a.then(function(e){var t=e.files;n.postMessage({method:"storage",files:t},"*")}):"clear"===t.method&&a.then(function(e){return(0,e.clear)()})})},8:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(2),a=n.n(r),s=n(6),o=n(5),c=n(9),i=n.n(c),u=function(){return new Promise(function(e,t){var n=!1,r=document.createElement("iframe");window.addEventListener("message",function(t){var a=t.data;"storage"!==a.method||n||(n=!0,e(a.files),r.contentWindow.postMessage({method:"clear"},"*"))}),r.addEventListener("load",function(){r.contentWindow.postMessage({method:"transfer"},"*")}),r.addEventListener("error",function(){n||(n=!0,e(null))}),r.src="https://diablo.rivsoft.net/storage.html",r.style.display="none",document.body.appendChild(r),setTimeout(function(){n||(n=!0,e(null))},1e4)})};function f(e){return d.apply(this,arguments)}function d(){return(d=Object(o.a)(a.a.mark(function e(t){var n,r,o,c,f,d,l,p,v,h,m,b,w,x,g,k,j,y;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new i.a("diablo_fs"),r=new Map,o=0,e.t0=Object,e.next=7,n.json();case 7:e.t1=e.sent,c=e.t0.entries.call(e.t0,e.t1);case 9:if(!(o<c.length)){e.next=18;break}f=c[o],d=Object(s.a)(f,2),l=d[0],p=d[1],r.set(l,p);case 15:o++,e.next=9;break;case 18:if(!t){e.next=42;break}return e.next=21,u();case 21:if(!(v=e.sent)){e.next=42;break}for(h=!0,m=!1,b=void 0,e.prev=26,w=v[Symbol.iterator]();!(h=(x=w.next()).done);h=!0)g=x.value,k=Object(s.a)(g,2),j=k[0],y=k[1],v.set(j,y),n.set(j,y);e.next=34;break;case 30:e.prev=30,e.t2=e.catch(26),m=!0,b=e.t2;case 34:e.prev=34,e.prev=35,h||null==w.return||w.return();case 37:if(e.prev=37,!m){e.next=40;break}throw b;case 40:return e.finish(37);case 41:return e.finish(34);case 42:return e.abrupt("return",{files:r,update:function(e,t){return n.set(e,t)},delete:function(e){return n.remove(e)},clear:function(){return n.clear()}});case 45:return e.prev=45,e.t3=e.catch(0),e.abrupt("return",{files:new Map,update:function(){return Promise.resolve()},delete:function(){return Promise.resolve()},clear:function(){return Promise.resolve()}});case 48:case"end":return e.stop()}},e,null,[[0,45],[26,30,34,42],[35,,37,41]])}))).apply(this,arguments)}}},[[57,3,0]]]);
//# sourceMappingURL=storage.faf200c6.chunk.js.map